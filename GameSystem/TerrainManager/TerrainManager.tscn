[gd_scene load_steps=7 format=3 uid="uid://dt04h06w01gic"]

[ext_resource type="Script" uid="uid://2l76ekloil5x" path="res://GameSystem/TerrainManager/TerrainManager.gd" id="1_uynwf"]
[ext_resource type="Script" uid="uid://cwasldijonxiw" path="res://GameSystem/TerrainManager/TerrainEditor/TerrainEditor.gd" id="2_shx21"]
[ext_resource type="Shader" uid="uid://cvcwgowkk3fmw" path="res://GameSystem/TerrainManager/terrain_shader.tres" id="2_xue7e"]

[sub_resource type="Curve" id="Curve_xue7e"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_xue7e"]
curve = SubResource("Curve_xue7e")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_shx21"]
shader = ExtResource("2_xue7e")
shader_parameter/curve_texture = SubResource("CurveTexture_xue7e")

[node name="TerrainManager" type="Node2D"]
script = ExtResource("1_uynwf")
_map_data = [{
"id": 1,
"polygon": PackedVector2Array(0, 200, -1.84509, 200, -0.436996, 191.11, 0, 190.252),
"pos_id": Vector2(-1, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(0, 235.23, -0.436996, 234.372, -3.86304, 212.741, -1.84509, 200, 0, 200),
"pos_id": Vector2(-1, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(100, 143.678, 100, 200, 0, 200, 0, 190.252, 9.50578, 171.596, 24.992, 156.11, 44.5058, 146.167, 66.137, 142.741, 69.242, 143.233, 72.347, 142.741, 83.2145, 144.462, 94.082, 142.741),
"pos_id": Vector2(0, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(100, 281.803, 94.082, 282.741, 83.2145, 281.02, 72.347, 282.741, 69.242, 282.249, 66.137, 282.741, 44.5058, 279.315, 24.992, 269.372, 9.50578, 253.886, 0, 235.23, 0, 200, 100, 200),
"pos_id": Vector2(0, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(200, 200, 100, 200, 100, 143.678, 105.482, 144.546, 126.685, 141.188, 140.317, 143.347, 146.971, 139.957, 168.602, 136.531, 185.92, 139.274, 200, 132.1),
"pos_id": Vector2(1, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(200, 268.128, 190.233, 273.105, 168.602, 276.531, 154.97, 274.372, 148.316, 277.762, 126.685, 281.188, 115.284, 279.383, 100, 281.803, 100, 200, 200, 200),
"pos_id": Vector2(1, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(298.796, 123.922, 300, 123.309, 300, 200, 200, 200, 200, 132.1, 202.861, 130.642, 224.492, 127.216, 246.123, 130.642, 246.343, 130.754, 258.751, 124.432, 280.382, 121.006),
"pos_id": Vector2(2, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(300, 257.899, 280.382, 261.006, 258.751, 257.58, 258.531, 257.468, 246.123, 263.79, 224.492, 267.216, 207.174, 264.473, 200, 268.128, 200, 200, 300, 200),
"pos_id": Vector2(2, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(906.314, 162.123, 921.8, 177.609, 931.743, 197.123, 932.199, 200, 900, 200, 900, 158.906),
"pos_id": Vector2(9, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(400, 200, 300, 200, 300, 123.309, 309.983, 118.222, 331.615, 114.796, 347.571, 117.323, 351.901, 115.117, 373.532, 111.691, 378.829, 112.53, 379.846, 112.012, 400, 108.82),
"pos_id": Vector2(3, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(400, 248.352, 396.18, 247.747, 395.163, 248.265, 373.532, 251.691, 357.576, 249.164, 353.246, 251.37, 331.615, 254.796, 313.201, 251.879, 302.013, 257.58, 300, 257.899, 300, 200, 400, 200),
"pos_id": Vector2(3, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(455.711, 110.459, 475.225, 120.402, 490.711, 135.888, 496.753, 147.747, 500, 144.5, 500, 200, 400, 200, 400, 108.82, 401.477, 108.586, 409.772, 109.9, 427.87, 107.033, 430.198, 107.402, 432.527, 107.033, 433.303, 107.156, 434.08, 107.033),
"pos_id": Vector2(4, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(500, 300, 446.448, 300, 432.294, 285.847, 422.352, 266.333, 422.288, 265.932, 419.517, 248.434, 418.555, 248.586, 410.016, 247.233, 401.477, 248.586, 400, 248.352, 400, 200, 500, 200),
"pos_id": Vector2(4, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(500, 314.489, 498.656, 314.702, 497.034, 314.445, 495.413, 314.702, 493.791, 314.445, 492.169, 314.702, 491.088, 314.531, 490.007, 314.702, 489.466, 314.616, 488.926, 314.702, 467.294, 311.276, 447.781, 301.333, 446.448, 300, 500, 300),
"pos_id": Vector2(4, 3)
}, {
"id": 1,
"polygon": PackedVector2Array(600, 200, 500, 200, 500, 144.5, 500.757, 143.743, 520.271, 133.8, 541.902, 130.374, 542.443, 130.46, 542.984, 130.374, 546.227, 130.888, 549.47, 130.374, 557.579, 131.659, 565.688, 130.374, 569.133, 130.92, 586.23, 128.212, 586.972, 128.329, 600, 126.266),
"pos_id": Vector2(5, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(600, 300, 500, 300, 500, 200, 600, 200),
"pos_id": Vector2(5, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(600, 314.314, 596.501, 313.76, 590.555, 314.702, 585.149, 313.846, 579.743, 314.702, 574.878, 313.931, 570.013, 314.702, 564.607, 313.846, 559.201, 314.702, 552.714, 313.674, 546.227, 314.702, 539.2, 313.589, 532.172, 314.702, 525.685, 313.674, 519.198, 314.702, 514.333, 313.931, 509.468, 314.702, 506.765, 314.274, 504.062, 314.702, 501.359, 314.274, 500, 314.489, 500, 300, 600, 300),
"pos_id": Vector2(5, 3)
}, {
"id": 1,
"polygon": PackedVector2Array(600, 453.749, 598.398, 443.635, 598.484, 443.094, 598.398, 442.554, 600, 432.44),
"pos_id": Vector2(5, 4)
}, {
"id": 1,
"polygon": PackedVector2Array(690.562, 125.514, 700, 124.019, 700, 200, 600, 200, 600, 126.266, 601.366, 126.05, 604.44, 126.537, 614.34, 124.969, 614.711, 125.027, 621.908, 123.887, 625.692, 124.487, 629.476, 123.887, 634.882, 124.744, 640.288, 123.887, 649.478, 125.343, 658.668, 123.887, 669.479, 125.6, 680.291, 123.887),
"pos_id": Vector2(6, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(700, 300, 600, 300, 600, 200, 700, 200),
"pos_id": Vector2(6, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(765.501, 126.253, 766.784, 126.05, 777.224, 127.703, 780.839, 127.131, 788.576, 128.356, 789.488, 128.212, 800, 129.877, 800, 200, 700, 200, 700, 124.019, 700.833, 123.887, 708.401, 125.086, 715.969, 123.887, 721.375, 124.744, 726.781, 123.887, 732.186, 124.744, 737.592, 123.887, 744.079, 124.915, 750.566, 123.887),
"pos_id": Vector2(7, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(811.119, 131.638, 812.4, 132.291, 821.931, 133.8, 827.266, 136.519, 830.58, 137.044, 831.221, 137.37, 835.986, 138.125, 837.114, 138.7, 840.31, 139.206, 841.439, 139.781, 844.635, 140.287, 848.354, 142.183, 850.041, 142.45, 850.194, 142.528, 856.528, 143.531, 859.272, 144.929, 864.096, 145.693, 864.249, 145.771, 870.583, 146.774, 871.224, 147.101, 875.989, 147.855, 877.117, 148.43, 880.313, 148.937, 882.417, 150.008, 882.476, 150.018, 884.579, 151.09, 884.638, 151.099, 886.741, 152.171, 886.8, 152.18, 900, 158.906, 900, 200, 800, 200, 800, 129.877),
"pos_id": Vector2(8, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(932.199, 200, 935.169, 218.754, 931.743, 240.385, 922.181, 259.152, 924.664, 261.635, 926.809, 265.844, 931.884, 270.919, 931.884, 270.919, 947.37, 286.405, 949.514, 290.613, 958.901, 300, 900, 300, 900, 200),
"pos_id": Vector2(9, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(1004.13, 339.037, 1007.94, 342.844, 1013.29, 345.572, 1013.51, 345.607, 1028.65, 353.318, 1032.09, 353.864, 1038.26, 357.008, 1044.48, 357.992, 1049.72, 360.662, 1058.93, 362.121, 1070.04, 367.785, 1073.38, 368.313, 1079.55, 371.457, 1085.76, 372.441, 1086.98, 373.065, 1096.08, 374.506, 1098.24, 375.603, 1098.51, 375.647, 1100, 375.411, 1100, 400, 1000, 400, 1000, 336.932),
"pos_id": Vector2(10, 3)
}, {
"id": 1,
"polygon": PackedVector2Array(1269.47, 366.249, 1288.99, 376.192, 1300, 387.206, 1300, 400, 1200, 400, 1200, 368.971, 1212.31, 367.021, 1213.82, 366.249, 1235.46, 362.823, 1238.55, 363.313, 1241.65, 362.823, 1243.71, 363.15, 1245.78, 362.823, 1246.81, 362.986, 1247.84, 362.823),
"pos_id": Vector2(12, 3)
}, {
"id": 1,
"polygon": PackedVector2Array(1304.47, 391.678, 1308.71, 400, 1300, 400, 1300, 387.206),
"pos_id": Vector2(13, 3)
}, {
"id": 1,
"polygon": PackedVector2Array(700, 400, 612.974, 400, 615.01, 396.003, 618.17, 392.844, 620.416, 388.435, 622.494, 386.357, 624.741, 381.948, 625.376, 381.313, 625.61, 379.839, 632.041, 367.217, 632.097, 366.865, 642.039, 347.351, 642.869, 346.522, 649.607, 333.296, 652.515, 330.389, 660.693, 314.338, 658.127, 313.931, 653.262, 314.702, 649.478, 314.103, 645.694, 314.702, 640.828, 313.931, 635.963, 314.702, 631.098, 313.931, 626.233, 314.702, 620.286, 313.76, 614.34, 314.702, 608.394, 313.76, 602.447, 314.702, 600, 314.314, 600, 300, 700, 300),
"pos_id": Vector2(6, 3)
}, {
"id": 1,
"polygon": PackedVector2Array(700, 500, 626.987, 500, 611.767, 484.78, 601.824, 465.266, 600, 453.749, 600, 432.44, 601.824, 420.923, 611.767, 401.409, 612.764, 400.412, 612.974, 400, 700, 400),
"pos_id": Vector2(6, 4)
}, {
"id": 1,
"polygon": PackedVector2Array(700, 600, 662.784, 600, 666.91, 591.903, 668.734, 590.079, 670.889, 585.849, 671.416, 582.518, 677.556, 570.469, 677.609, 570.133, 683.748, 558.084, 683.801, 557.748, 689.941, 545.699, 689.994, 545.363, 696.133, 533.314, 696.186, 532.978, 700, 525.493),
"pos_id": Vector2(6, 5)
}, {
"id": 1,
"polygon": PackedVector2Array(700, 505.129, 690.029, 510.209, 668.398, 513.635, 646.767, 510.209, 627.253, 500.266, 626.987, 500, 700, 500),
"pos_id": Vector2(6, 5)
}, {
"id": 1,
"polygon": PackedVector2Array(700, 700, 619.902, 700, 625.477, 689.058, 626.005, 685.727, 631.669, 674.609, 632.197, 671.277, 637.388, 661.091, 638.39, 654.764, 644.054, 643.646, 644.582, 640.315, 650.721, 628.266, 650.775, 627.93, 655.965, 617.743, 656.967, 611.416, 662.784, 600, 700, 600),
"pos_id": Vector2(6, 6)
}, {
"id": 1,
"polygon": PackedVector2Array(700, 800, 631.712, 800, 619.434, 787.722, 609.491, 768.208, 606.065, 746.577, 609.491, 724.946, 611.063, 721.861, 611.555, 718.753, 619.267, 703.619, 619.812, 700.176, 619.902, 700, 700, 700),
"pos_id": Vector2(6, 7)
}, {
"id": 1,
"polygon": PackedVector2Array(700, 811.977, 697.696, 813.151, 676.065, 816.577, 654.434, 813.151, 634.92, 803.208, 631.712, 800, 700, 800),
"pos_id": Vector2(6, 8)
}, {
"id": 1,
"polygon": PackedVector2Array(800, 300, 700, 300, 700, 200, 800, 200),
"pos_id": Vector2(7, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(800, 400, 700, 400, 700, 300, 800, 300),
"pos_id": Vector2(7, 3)
}, {
"id": 1,
"polygon": PackedVector2Array(800, 500, 711.741, 500, 713.748, 496.062, 710.624, 499.185, 710.624, 499.185, 709.809, 500, 700, 500, 700, 400, 800, 400),
"pos_id": Vector2(7, 4)
}, {
"id": 1,
"polygon": PackedVector2Array(800, 600, 700, 600, 700, 525.493, 705.944, 513.827, 706.507, 510.272, 711.741, 500, 800, 500),
"pos_id": Vector2(7, 5)
}, {
"id": 1,
"polygon": PackedVector2Array(709.809, 500, 709.543, 500.266, 700, 505.129, 700, 500),
"pos_id": Vector2(7, 5)
}, {
"id": 1,
"polygon": PackedVector2Array(800, 634.738, 798.899, 636.898, 798.372, 640.229, 788.429, 659.743, 786.605, 661.567, 784.925, 664.866, 783.923, 671.192, 777.783, 683.241, 777.73, 683.577, 772.065, 694.695, 771.538, 698.026, 770.532, 700, 700, 700, 700, 600, 800, 600),
"pos_id": Vector2(7, 6)
}, {
"id": 1,
"polygon": PackedVector2Array(766.347, 708.213, 765.345, 714.54, 759.68, 725.658, 759.153, 728.989, 753.488, 740.107, 752.96, 743.438, 749.816, 749.608, 748.832, 755.823, 745.213, 762.925, 744.703, 766.144, 734.76, 785.658, 732.697, 787.722, 732.696, 787.722, 720.418, 800, 700, 800, 700, 700, 770.532, 700),
"pos_id": Vector2(7, 7)
}, {
"id": 1,
"polygon": PackedVector2Array(717.21, 803.208, 700, 811.977, 700, 800, 720.418, 800),
"pos_id": Vector2(7, 8)
}, {
"id": 1,
"polygon": PackedVector2Array(900, 300, 800, 300, 800, 200, 900, 200),
"pos_id": Vector2(8, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(900, 400, 800, 400, 800, 300, 900, 300),
"pos_id": Vector2(8, 3)
}, {
"id": 1,
"polygon": PackedVector2Array(900, 436.266, 895.006, 433.721, 891.978, 430.693, 889.195, 448.262, 888.572, 449.485, 887.131, 458.582, 879.42, 473.717, 878.874, 477.16, 869.117, 496.31, 868.554, 499.866, 868.485, 500, 800, 500, 800, 400, 900, 400),
"pos_id": Vector2(8, 4)
}, {
"id": 1,
"polygon": PackedVector2Array(858.611, 519.38, 854.634, 523.356, 854.104, 526.7, 844.162, 546.214, 840.185, 550.191, 839.655, 553.534, 829.898, 572.685, 829.334, 576.24, 823.195, 588.289, 823.142, 588.625, 817.346, 600, 800, 600, 800, 500, 868.485, 500),
"pos_id": Vector2(8, 5)
}, {
"id": 1,
"polygon": PackedVector2Array(817.002, 600.675, 816.949, 601.01, 810.81, 613.059, 810.757, 613.395, 804.617, 625.444, 804.564, 625.78, 800, 634.738, 800, 600, 817.346, 600),
"pos_id": Vector2(8, 6)
}, {
"id": 1,
"polygon": PackedVector2Array(958.901, 300, 959.755, 300.854, 964.044, 309.272, 964.911, 310.138, 964.911, 310.138, 973.087, 318.315, 977.296, 320.459, 979.119, 322.283, 991.745, 328.716, 999.921, 336.892, 1000, 336.932, 1000, 400, 900, 400, 900, 300),
"pos_id": Vector2(9, 3)
}, {
"id": 1,
"polygon": PackedVector2Array(1000, 490.521, 995.044, 487.996, 988.83, 487.012, 982.659, 483.868, 976.445, 482.883, 956.931, 472.941, 955.107, 471.117, 954.894, 471.008, 951.675, 470.498, 932.161, 460.556, 926.048, 454.443, 921.84, 452.299, 913.664, 444.123, 909.455, 441.978, 907.631, 440.155, 900, 436.266, 900, 400, 1000, 400),
"pos_id": Vector2(9, 4)
}, {
"id": 1,
"polygon": PackedVector2Array(1100, 500, 1027.25, 500, 1019, 495.796, 1015.66, 495.268, 1010.42, 492.599, 1001.21, 491.14, 1000, 490.521, 1000, 400, 1100, 400),
"pos_id": Vector2(10, 4)
}, {
"id": 1,
"polygon": PackedVector2Array(1100, 574.313, 1085.94, 560.25, 1075.99, 540.736, 1072.57, 519.105, 1073.67, 512.142, 1071.4, 511.782, 1070.17, 511.159, 1061.08, 509.718, 1058.92, 508.62, 1052.82, 507.654, 1051.6, 507.03, 1042.5, 505.589, 1036.33, 502.445, 1030.11, 501.461, 1027.25, 500, 1100, 500),
"pos_id": Vector2(10, 5)
}, {
"id": 1,
"polygon": PackedVector2Array(1200, 400, 1100, 400, 1100, 375.411, 1101.28, 375.208, 1104.38, 375.698, 1107.48, 375.208, 1111.61, 375.862, 1115.73, 375.208, 1117.8, 375.535, 1119.86, 375.208, 1121.6, 375.484, 1136.38, 373.144, 1142.57, 374.125, 1148.76, 373.144, 1149.47, 373.256, 1163.21, 371.08, 1163.92, 371.192, 1177.66, 369.015, 1186.95, 370.487, 1196.24, 369.015, 1197.98, 369.291, 1200, 368.971),
"pos_id": Vector2(11, 3)
}, {
"id": 1,
"polygon": PackedVector2Array(1200, 500, 1100, 500, 1100, 400, 1200, 400),
"pos_id": Vector2(11, 4)
}, {
"id": 1,
"polygon": PackedVector2Array(1200, 600, 1184.67, 600, 1167.64, 591.319, 1162.89, 590.567, 1159.08, 591.169, 1144.31, 588.83, 1142.57, 589.105, 1120.94, 585.679, 1101.42, 575.736, 1100, 574.313, 1100, 500, 1200, 500),
"pos_id": Vector2(11, 5)
}, {
"id": 1,
"polygon": PackedVector2Array(1200, 606.196, 1195.63, 601.823, 1184.93, 600.128, 1184.67, 600, 1200, 600),
"pos_id": Vector2(11, 6)
}, {
"id": 1,
"polygon": PackedVector2Array(1300, 400, 1300, 478.44, 1288.99, 489.454, 1281.98, 493.023, 1282.79, 493.437, 1287.67, 498.312, 1298.32, 500, 1200, 500, 1200, 400),
"pos_id": Vector2(12, 4)
}, {
"id": 1,
"polygon": PackedVector2Array(1298.37, 500.007, 1300, 500.838, 1300, 600, 1200, 600, 1200, 500, 1298.32, 500),
"pos_id": Vector2(12, 5)
}, {
"id": 1,
"polygon": PackedVector2Array(1300, 653.532, 1284.45, 645.611, 1284.01, 645.54, 1264.49, 635.597, 1263.36, 634.462, 1255.11, 633.155, 1235.59, 623.212, 1230.72, 618.337, 1220.02, 616.642, 1200.5, 606.699, 1200, 606.196, 1200, 600, 1300, 600),
"pos_id": Vector2(12, 6)
}, {
"id": 1,
"polygon": PackedVector2Array(1308.71, 400, 1314.41, 411.192, 1317.84, 432.823, 1314.41, 454.454, 1304.47, 473.968, 1300, 478.44, 1300, 400),
"pos_id": Vector2(13, 4)
}, {
"id": 1,
"polygon": PackedVector2Array(1317.88, 509.95, 1319.02, 511.086, 1327.27, 512.392, 1343.33, 520.578, 1343.78, 520.649, 1350.88, 524.267, 1354.1, 524.777, 1373.62, 534.72, 1377.58, 538.688, 1386, 542.977, 1387.83, 544.8, 1400, 551.004, 1400, 600, 1300, 600, 1300, 500.838),
"pos_id": Vector2(13, 5)
}, {
"id": 1,
"polygon": PackedVector2Array(1400, 700, 1368.51, 700, 1367.7, 699.587, 1359.52, 691.41, 1355.32, 689.266, 1353.49, 687.442, 1340.87, 681.009, 1334.75, 674.897, 1330.55, 672.752, 1326.58, 668.785, 1318.16, 664.496, 1316.34, 662.672, 1303.71, 656.239, 1301.41, 653.938, 1300.52, 653.797, 1300, 653.532, 1300, 600, 1400, 600),
"pos_id": Vector2(13, 6)
}, {
"id": 1,
"polygon": PackedVector2Array(1400, 717.911, 1388.34, 711.972, 1384.54, 708.164, 1368.51, 700, 1400, 700),
"pos_id": Vector2(13, 7)
}, {
"id": 1,
"polygon": PackedVector2Array(1400.45, 551.234, 1404.42, 555.201, 1412.84, 559.49, 1418.95, 565.602, 1423.16, 567.747, 1424.98, 569.57, 1437.61, 576.004, 1445.54, 583.94, 1458.93, 590.76, 1459.38, 590.831, 1463.39, 592.877, 1463.5, 592.895, 1477.45, 600, 1400, 600, 1400, 551.004),
"pos_id": Vector2(14, 5)
}, {
"id": 1,
"polygon": PackedVector2Array(1483.02, 602.838, 1498.5, 618.324, 1500, 621.26, 1500, 697.678, 1498.82, 700, 1400, 700, 1400, 600, 1477.45, 600),
"pos_id": Vector2(14, 6)
}, {
"id": 1,
"polygon": PackedVector2Array(1498.5, 700.614, 1483.02, 716.1, 1463.5, 726.043, 1441.87, 729.469, 1439.81, 729.142, 1437.74, 729.469, 1416.11, 726.043, 1412.1, 723.996, 1411.98, 723.979, 1407.97, 721.932, 1407.86, 721.915, 1400, 717.911, 1400, 700, 1498.82, 700),
"pos_id": Vector2(14, 7)
}, {
"id": 1,
"polygon": PackedVector2Array(1508.45, 637.838, 1511.87, 659.469, 1508.45, 681.1, 1500, 697.678, 1500, 621.26),
"pos_id": Vector2(15, 6)
}]

[node name="TerrainShader" type="CanvasGroup" parent="."]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_shx21")

[node name="TerrainEditor" type="Node2D" parent="."]
script = ExtResource("2_shx21")
