[gd_scene load_steps=7 format=3 uid="uid://dt04h06w01gic"]

[ext_resource type="Script" uid="uid://2l76ekloil5x" path="res://GameSystem/TerrainManager/TerrainManager.gd" id="1_uynwf"]
[ext_resource type="Script" uid="uid://cwasldijonxiw" path="res://GameSystem/TerrainManager/TerrainEditor/TerrainEditor.gd" id="2_shx21"]
[ext_resource type="Shader" uid="uid://cvcwgowkk3fmw" path="res://GameSystem/TerrainManager/terrain_shader.tres" id="2_xue7e"]

[sub_resource type="Curve" id="Curve_xue7e"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_xue7e"]
curve = SubResource("Curve_xue7e")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_shx21"]
shader = ExtResource("2_xue7e")
shader_parameter/curve_texture = SubResource("CurveTexture_xue7e")

[node name="TerrainManager" type="Node2D"]
script = ExtResource("1_uynwf")
_map_data = [{
"id": 1,
"polygon": PackedVector2Array(0, 200, -1.84509, 200, -0.436996, 191.11, 0, 190.252),
"pos_id": Vector2(-1, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(0, 235.23, -0.436996, 234.372, -3.86304, 212.741, -1.84509, 200, 0, 200),
"pos_id": Vector2(-1, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(100, 143.678, 100, 200, 0, 200, 0, 190.252, 9.50578, 171.596, 24.992, 156.11, 44.5058, 146.167, 66.137, 142.741, 69.242, 143.233, 72.347, 142.741, 83.2145, 144.462, 94.082, 142.741),
"pos_id": Vector2(0, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(100, 281.803, 94.082, 282.741, 83.2145, 281.02, 72.347, 282.741, 69.242, 282.249, 66.137, 282.741, 44.5058, 279.315, 24.992, 269.372, 9.50578, 253.886, 0, 235.23, 0, 200, 100, 200),
"pos_id": Vector2(0, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(200, 200, 100, 200, 100, 143.678, 105.482, 144.546, 126.685, 141.188, 140.317, 143.347, 146.971, 139.957, 168.602, 136.531, 185.92, 139.274, 200, 132.1),
"pos_id": Vector2(1, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(200, 268.128, 190.233, 273.105, 168.602, 276.531, 154.97, 274.372, 148.316, 277.762, 126.685, 281.188, 115.284, 279.383, 100, 281.803, 100, 200, 200, 200),
"pos_id": Vector2(1, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(298.796, 123.922, 300, 123.309, 300, 200, 200, 200, 200, 132.1, 202.861, 130.642, 224.492, 127.216, 246.123, 130.642, 246.343, 130.754, 258.751, 124.432, 280.382, 121.006),
"pos_id": Vector2(2, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(300, 257.899, 280.382, 261.006, 258.751, 257.58, 258.531, 257.468, 246.123, 263.79, 224.492, 267.216, 207.174, 264.473, 200, 268.128, 200, 200, 300, 200),
"pos_id": Vector2(2, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(400, 200, 300, 200, 300, 123.309, 309.983, 118.222, 331.615, 114.796, 347.571, 117.323, 351.901, 115.117, 373.532, 111.691, 378.829, 112.53, 379.846, 112.012, 400, 108.82),
"pos_id": Vector2(3, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(400, 248.352, 396.18, 247.747, 395.163, 248.265, 373.532, 251.691, 357.576, 249.164, 353.246, 251.37, 331.615, 254.796, 313.201, 251.879, 302.013, 257.58, 300, 257.899, 300, 200, 400, 200),
"pos_id": Vector2(3, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(455.711, 110.459, 475.225, 120.402, 490.711, 135.888, 500, 154.119, 500, 199.947, 499.973, 200, 400, 200, 400, 108.82, 401.477, 108.586, 409.772, 109.9, 427.87, 107.033, 430.198, 107.402, 432.527, 107.033, 433.303, 107.156, 434.08, 107.033),
"pos_id": Vector2(4, 1)
}, {
"id": 1,
"polygon": PackedVector2Array(490.711, 218.178, 475.225, 233.664, 455.711, 243.607, 434.08, 247.033, 433.303, 246.91, 432.527, 247.033, 430.442, 246.703, 418.555, 248.586, 410.016, 247.233, 401.477, 248.586, 400, 248.352, 400, 200, 499.973, 200),
"pos_id": Vector2(4, 2)
}, {
"id": 1,
"polygon": PackedVector2Array(500.654, 155.402, 504.08, 177.033, 500.654, 198.664, 500, 199.947, 500, 154.119),
"pos_id": Vector2(5, 1)
}]

[node name="TerrainShader" type="CanvasGroup" parent="."]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_shx21")

[node name="TerrainEditor" type="Node2D" parent="."]
script = ExtResource("2_shx21")
